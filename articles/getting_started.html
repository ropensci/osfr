<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started with osfr • osfr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with osfr">
<meta property="og:description" content="">
<meta property="og:image" content="https://centerforopenscience.github.io/osfr/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-132425816-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132425816-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">osfr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.6.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/auth.html">Authenticating osfr</a>
    </li>
    <li>
      <a href="../articles/getting_started.html">Getting Started with osfr</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/centerforopenscience/osfr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Getting Started with osfr</h1>
            
            <h4 class="date">2020-01-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/centerforopenscience/osfr/blob/master/vignettes/getting_started.Rmd"><code>vignettes/getting_started.Rmd</code></a></small>
      <div class="hidden name"><code>getting_started.Rmd</code></div>

    </div>

    
    
<p>This vignette provides a quick tour of the <code>osfr</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(osfr)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># external file for our example project</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span>(mtcars, <span class="st">"mtcars.csv"</span>)</a></code></pre></div>
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p><a href="https://osf.io">OSF</a>, developed by the <a href="https://cos.io">Center for Open Science (COS)</a>, is a free, open source, web application that provides a space for researchers to collaboratively store, manage, and share their research materials (e.g. data, code, protocols). Files can be kept private, shared with a specific group of researchers, or made publicly available with citable DOIs so researchers can get credit for their work.</p>
<p><code>osfr</code> allows researchers to create and modify projects, components, and files through OSF’s API.</p>
</div>
<div id="working-with-projectscomponents" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-projectscomponents" class="anchor"></a>Working with projects/components</h2>
<p>Most work on OSF is organized around <strong><em>projects</em></strong>. Projects can contain <em>files</em>, groups of files in <em>directories</em>, and/or files in subsections of a project called <strong><em>components</em></strong>. Collectively projects and components are called <strong><em>nodes</em></strong>.</p>
<div id="creating-a-new-projectcomponent" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-a-new-projectcomponent" class="anchor"></a>Creating a new project/component</h3>
<p>At the start of a new research project or study we’ll want to set up a new private project on OSF to store all the files related to the project. We can add multiple nested components or directories to create whatever structure will suite our workflow. Different components can have different DOIs and different privacy settings, so we may want to put similar files in their own components to organize the project.</p>
<p>We’ll first create a new <em>project</em> and store osfr’s response in the <code>car_project</code> object. This object contains a specialized data frame based on the <a href="https://tibble.tidyverse.org">tibble</a> class that provides the new project’s global unique identifier (GUID), title, and other metadata returned by the API.</p>
<p><em>Note: You’ll need to be authenticated to create <code>nodes</code>. See the <code><a href="../reference/osf_auth.html">osf_auth()</a></code> function documentation or the <code>auth</code> vignette for more information.</em></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">car_project &lt;-<span class="st"> </span><span class="kw"><a href="../reference/osf_create.html">osf_create_project</a></span>(<span class="st">"Motor Trend Car Road Tests"</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">car_project</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; # A tibble: 1 x 3</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt;   name                       id    meta            </span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt;   &lt;chr&gt;                      &lt;chr&gt; &lt;list&gt;          </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; 1 Motor Trend Car Road Tests 5nkpv &lt;named list [3]&gt;</span></a></code></pre></div>
<p>To view the project directly on OSF use <code><a href="../reference/osf_open.html">osf_open(car_project)</a></code>.</p>
<p>After the project is created we’ll create two nested <em>components</em>, one for data and one for analysis scripts. We can take advantage of osfr’s <a href="https://magrittr.tidyverse.org">pipe</a>-compatibility to arrange multiple operations into a single sequence.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">scripts_comp &lt;-<span class="st"> </span>car_project <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/osf_create.html">osf_create_component</a></span>(<span class="st">"Data"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/osf_create.html">osf_create_component</a></span>(<span class="st">"Analysis Scripts"</span>)</a></code></pre></div>
<p>Because each operation in the sequence above applies to the previous object, we’ve accidentally created a project with the <code>analysis scripts</code> component nested within the <code>data</code> component, which is not what we wanted. We can delete the analysis scripts component and recreate it under the top-level project.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../reference/osf_rm.html">osf_rm</a></span>(scripts_comp, <span class="dt">check =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">car_project <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/osf_create.html">osf_create_component</a></span>(<span class="dt">title =</span> <span class="st">"Analysis Scripts"</span>)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; # A tibble: 1 x 3</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt;   name             id    meta            </span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt;   &lt;chr&gt;            &lt;chr&gt; &lt;list&gt;          </span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; 1 Analysis Scripts cpbw7 &lt;named list [3]&gt;</span></a></code></pre></div>
<p>We can verify the project is now structured the way we wanted by listing the components we have under the main project.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">car_components &lt;-<span class="st"> </span><span class="kw"><a href="../reference/osf_ls_nodes.html">osf_ls_nodes</a></span>(car_project)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">car_components</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt; # A tibble: 2 x 3</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt;   name             id    meta            </span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt;   &lt;chr&gt;            &lt;chr&gt; &lt;list&gt;          </span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt; 1 Analysis Scripts cpbw7 &lt;named list [3]&gt;</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; 2 Data             8mu6z &lt;named list [3]&gt;</span></a></code></pre></div>
<p>Remember, new projects are always private by default. You can change this by opening the project on OSF and <a href="https://help.osf.io/hc/en-us/articles/360018981414-control-your-privacy-settings">making it public</a>, and <a href="https://help.osf.io/hc/en-us/articles/360019931013-Create-DOIs">even generate a DOI</a> so others can cite your work.</p>
</div>
</div>
<div id="working-with-files" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-files" class="anchor"></a>Working With Files</h2>
<p>In general, files can exist in projects, components, and/or directories on OSF. Files can be stored on <em>OSF’s Storage</em> or in another service that is connected to an OSF project (e.g. GitHub, Dropbox, or Google Drive). However, <code>osfr</code> currently only supports interacting with files on OSF Storage.</p>
<div id="uploadingupdating-files" class="section level3">
<h3 class="hasAnchor">
<a href="#uploadingupdating-files" class="anchor"></a>Uploading/Updating files</h3>
<p>To add our data file to the <em>Data</em> component within our project, we’ll need to pass an <code>osf_tbl</code> containing only that component to the <code><a href="../reference/osf_upload.html">osf_upload()</a></code> function, so the file is uploaded to the correct part of the project.</p>
<p><em><strong>Note:</strong> If an <code>osf_tbl</code> with multiple entities is passed to an osfr function, the default behavior is to use the entity in the first row and warn that all other entities are ignored.</em></p>
<p>osfr is compatible with the dplyr package, so we can <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> for the specific component we want.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co"># select the data component</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">data_component &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(car_components, name <span class="op">==</span><span class="st"> "Data"</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co"># upload our file</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">mtcars_file &lt;-<span class="st"> </span><span class="kw"><a href="../reference/osf_upload.html">osf_upload</a></span>(data_component, <span class="dt">path =</span> <span class="st">"mtcars.csv"</span>)</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">mtcars_file</a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; # A tibble: 1 x 3</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt;   name       id                       meta            </span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;                    &lt;list&gt;          </span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt; 1 mtcars.csv 5e1b8fb1c665ea0009b277b2 &lt;named list [3]&gt;</span></a></code></pre></div>
<p>The <code>mtcars_file</code> object now contains an <code>osf_tbl</code> with 1 row corresponding to the version of that file stored on OSF. We can also use <code><a href="../reference/osf_open.html">osf_open()</a></code> to examine the file directly on OSF, which provides rendered views for a wide variety of file formats.</p>
<p>OSF also version controls files, which means that if we were to make a change to the <code>mtcars.csv</code> file (perhaps we collected more data) we could automatically create a 2nd version of the dataset by using the <code><a href="../reference/osf_upload.html">osf_upload()</a></code> function and setting <code>conflicts = "overwrite"</code>. As long as the file we’re uploading has the same file name as a file in that particular section of the project, a new version will be created.</p>
</div>
<div id="downloading-files" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-files" class="anchor"></a>Downloading files</h3>
<p>We can download files from any public or private node that we have access to and can identify files to download in two different ways.</p>
<ol style="list-style-type: decimal">
<li>
<p>If we know where the file is located, but don’t remember it’s GUID, we can use the <code>osf_ls_files</code> function to list all the files within a specified node and then pipe the results to <code><a href="../reference/osf_download.html">osf_download()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">data_component <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/osf_ls_files.html">osf_ls_files</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/osf_download.html">osf_download</a></span>(<span class="dt">conflicts =</span> <span class="st">"overwrite"</span>)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; # A tibble: 1 x 4</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt;   name       id                       local_path   meta            </span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;                    &lt;chr&gt;        &lt;list&gt;          </span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt; 1 mtcars.csv 5e1b8fb1c665ea0009b277b2 ./mtcars.csv &lt;named list [3]&gt;</span></a></code></pre></div>
</li>
<li>
<p>For a public file that we may have seen referenced in a published article, we may already have the GUID, and so can retrieve the file directly before downloading it. Here, we’ll download Daniel Laken’s helpful spreadsheet for calculating effect sizes (<a href="https://osf.io/vbdah/" class="uri">https://osf.io/vbdah/</a>).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">excel_file &lt;-<span class="st"> </span><span class="kw"><a href="../reference/osf_retrieve.html">osf_retrieve_file</a></span>(<span class="st">"vbdah"</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="kw"><a href="../reference/osf_download.html">osf_download</a></span>(excel_file)</a></code></pre></div>
</li>
</ol>
</div>
</div>
<div id="more-information" class="section level2">
<h2 class="hasAnchor">
<a href="#more-information" class="anchor"></a>More Information</h2>
<p>For more information on OSF and <code>osfr</code> check out:</p>
<ul>
<li><a href="https://osf.io">OSF</a></li>
<li><a href="https://developer.osf.io">OSF API Documentation</a></li>
<li><a href="https://osf.io/support/">OSF Support</a></li>
<li><a href="https://github.com/CenterForOpenScience/osfr">osfr GitHub Repository</a></li>
</ul>
<!-- links -->
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#background">Background</a></li>
      <li><a href="#working-with-projectscomponents">Working with projects/components</a></li>
      <li><a href="#working-with-files">Working With Files</a></li>
      <li><a href="#more-information">More Information</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://www.aaronwolen.com">Aaron Wolen</a>, Chris Hartgerink.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
